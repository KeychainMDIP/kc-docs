"use strict";(self.webpackChunkkc_docs=self.webpackChunkkc_docs||[]).push([[120],{3634:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>l});var a=i(4848),t=i(8453);const d={},s="Keychain-MDIP CLI User Manual",r={id:"CLI-user-manual/README",title:"Keychain-MDIP CLI User Manual",description:"The CLI is a Command Line Interface to the Keychain implementation of the MultiDimensional Identity Protocol (MDIP). kc (short for KeyChain) is a script invoked in a unix-like terminal environment (bash, zsh, etc).",source:"@site/kc/doc/CLI-user-manual/README.md",sourceDirName:"CLI-user-manual",slug:"/CLI-user-manual/",permalink:"/docs/CLI-user-manual/",draft:!1,unlisted:!1,editUrl:"https://github.com/keychainmdip/kc-docs/tree/main/packages/create-docusaurus/templates/shared/kc/doc/CLI-user-manual/README.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",next:{title:"MDIP DID Scheme",permalink:"/docs/DID-scheme/"}},c={},l=[{value:"Working with the CLI",id:"working-with-the-cli",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Working with Wallets",id:"working-with-wallets",level:2},{value:"What is a Wallet?",id:"what-is-a-wallet",level:3},{value:"Creating a Wallet",id:"creating-a-wallet",level:3},{value:"Backing Up and Recovering a Wallet",id:"backing-up-and-recovering-a-wallet",level:3},{value:"Working with IDs",id:"working-with-ids",level:2},{value:"What is an ID?",id:"what-is-an-id",level:3},{value:"Creating an ID",id:"creating-an-id",level:3},{value:"Resolve Current Agent ID",id:"resolve-current-agent-id",level:3},{value:"Backing up an ID",id:"backing-up-an-id",level:3},{value:"Removing an ID",id:"removing-an-id",level:3},{value:"Recovering an ID",id:"recovering-an-id",level:3},{value:"Listing IDs",id:"listing-ids",level:3},{value:"Switching IDs",id:"switching-ids",level:3},{value:"Rotating an ID&#39;s Keys",id:"rotating-an-ids-keys",level:3},{value:"Working with DIDs",id:"working-with-dids",level:2},{value:"What is a DID",id:"what-is-a-did",level:3},{value:"Resolving a DID",id:"resolving-a-did",level:3},{value:"Exporting an DID",id:"exporting-an-did",level:3},{value:"Importing an DID",id:"importing-an-did",level:3},{value:"Working with Credentials",id:"working-with-credentials",level:2},{value:"What is a Credential?",id:"what-is-a-credential",level:3},{value:"What is a Verifiable Credential?",id:"what-is-a-verifiable-credential",level:3},{value:"MDIP Verifiable Credential Basic Workflow",id:"mdip-verifiable-credential-basic-workflow",level:3},{value:"Steps to Creating a VC:",id:"steps-to-creating-a-vc",level:4},{value:"Preparing or Selecting a Credential Schema File",id:"preparing-or-selecting-a-credential-schema-file",level:3},{value:"Creating a Credential DID",id:"creating-a-credential-did",level:3},{value:"Binding the Credential",id:"binding-the-credential",level:3},{value:"Editing the Credential",id:"editing-the-credential",level:3},{value:"Attesting a credential",id:"attesting-a-credential",level:3},{value:"Verifying a credential",id:"verifying-a-credential",level:3},{value:"Accepting a credential",id:"accepting-a-credential",level:3},{value:"Revoking a credential",id:"revoking-a-credential",level:3},{value:"Working with the DID Manifest",id:"working-with-the-did-manifest",level:2},{value:"What is the DID Manifest?",id:"what-is-the-did-manifest",level:3},{value:"Publishing a Verifiable Credential",id:"publishing-a-verifiable-credential",level:3},{value:"Revealing a Verifiable Credential",id:"revealing-a-verifiable-credential",level:3},{value:"Unpublishing a Verifiable Credential",id:"unpublishing-a-verifiable-credential",level:3},{value:"Working with Challenges and Responses",id:"working-with-challenges-and-responses",level:2},{value:"What is a challenge and response?",id:"what-is-a-challenge-and-response",level:3},{value:"Creating a Challenge",id:"creating-a-challenge",level:3},{value:"Creating a Verifiable Presentation Response",id:"creating-a-verifiable-presentation-response",level:3},{value:"Verifying a VP Response",id:"verifying-a-vp-response",level:3},{value:"Working with Aliased Names",id:"working-with-aliased-names",level:2},{value:"What is an alias name?",id:"what-is-an-alias-name",level:3},{value:"Adding a name",id:"adding-a-name",level:3},{value:"Listing names",id:"listing-names",level:3},{value:"Removing a name",id:"removing-a-name",level:3},{value:"Working with encryption",id:"working-with-encryption",level:2},{value:"What is encryption?",id:"what-is-encryption",level:3},{value:"Encrypting a file",id:"encrypting-a-file",level:3},{value:"Encrypting a message",id:"encrypting-a-message",level:3},{value:"Decrypting a message or a file",id:"decrypting-a-message-or-a-file",level:3},{value:"Decrypting JSON from a VC",id:"decrypting-json-from-a-vc",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{Details:d}=n;return d||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"keychain-mdip-cli-user-manual",children:"Keychain-MDIP CLI User Manual"}),"\n",(0,a.jsxs)(n.p,{children:["The CLI is a Command Line Interface to the Keychain implementation of the MultiDimensional Identity Protocol (MDIP). ",(0,a.jsx)(n.code,{children:"kc"})," (short for KeyChain) is a script invoked in a unix-like terminal environment (bash, zsh, etc)."]}),"\n",(0,a.jsx)(n.h2,{id:"working-with-the-cli",children:"Working with the CLI"}),"\n",(0,a.jsx)(n.p,{children:"The Keychain-MDIP CLI is a user-facing tool used to interact with the MDIP sub-systems and networks."}),"\n",(0,a.jsx)(n.p,{children:"The Keychain CLI brings together functionality from three important sub-components:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Decentralized Identity (DID) registration and management as defined by W3C DID Core."}),"\n",(0,a.jsx)(n.li,{children:"Verifiable Credential (VC) attestation and management as defined by W3C VC Data Model."}),"\n",(0,a.jsx)(n.li,{children:"Crypto keys and wallet management."}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["All the CLI commands are self-documented using the ",(0,a.jsx)(n.code,{children:"--help"})," flag, or by running ",(0,a.jsx)(n.code,{children:"kc"})," with no flags:"]}),"\n",(0,a.jsxs)(d,{children:[(0,a.jsx)("summary",{children:(0,a.jsx)("code",{children:"kc --help"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"Usage: keychain-cli [options] [command]\n\nKeychain CLI tool\n\nOptions:\n  -V, --version                               output the version number\n  -h, --help                                  display help for command\n\nCommands:\n  accept-credential <did> [name]              Save verifiable credential for current ID\n  add-name <name> <did>                       Adds a name for a DID\n  attest-credential <file> [registry] [name]  Sign and encrypt a bound credential file\n  backup-id                                   Backup the current ID to its registry\n  backup-wallet                               Backup wallet to encrypted DID\n  bind-credential <file> <did>                Create bound credential for a user\n  create-challenge [file] [name]              Create challenge (optionally from a file)\n  create-challenge-cc <did> [name]            Create challenge from a credential DID\n  create-credential <file> [name]             Create credential from schema file\n  create-id <name> [registry]                 Create a new decentralized ID\n  create-response <challenge>                 Create a Verifiable Presentation from a challenge\n  create-wallet                               Create new wallet (or show existing wallet)\n  decrypt-did <did>                           Decrypt an encrypted message DID\n  decrypt-json <did>                          Decrypt an encrypted JSON DID\n  encrypt-file <file> <did>                   Encrypt a file for a DID\n  encrypt-msg <msg> <did>                     Encrypt a message for a DID\n  export-did <did>                            Export DID to file\n  help [command]                              display help for command\n  import-did <file>                           Import DID from file\n  import-wallet <recovery-phrase>             Create new wallet from a recovery phrase\n  list-ids                                    List IDs and show current ID\n  list-names                                  Lists names of DIDs\n  publish-credential <did>                    Publish the existence of a credential to the current user manifest\n  recover-id <did>                            Recovers the ID from the DID\n  recover-wallet <did>                        Recover wallet from encrypted DID\n  remove-id <name>                            Deletes named ID\n  remove-name <name>                          Removes a name for a DID\n  resolve-did <did>                           Return document associated with DID\n  resolve-id                                  Resolves the current ID\n  reveal-credential <did>                     Reveal a credential to the current user manifest\n  revoke-credential <did>                     Revokes a verifiable credential\n  rotate-keys                                 Rotates keys for current user\n  show-mnemonic                               Show recovery phrase for wallet\n  show-wallet                                 Show wallet\n  sign-file <file>                            Sign a JSON file\n  unpublish-credential <did>                  Remove a credential from the current user manifest\n  use-id <name>                               Set the current ID\n  verify-file <file>                          Verify the signature in a JSON file\n  verify-response <did>                       Decrypt and validate a Verifiable Presentation\n"})})]}),"\n",(0,a.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,a.jsxs)(n.p,{children:["The following examples use a ",(0,a.jsx)(n.code,{children:"$"})," to denote the shell prompt:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc\n"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["[!NOTE]\nUnless you edit your shell's ",(0,a.jsx)(n.code,{children:"$PATH"})," variable, you need to invoke kc with a ",(0,a.jsx)(n.code,{children:"./"})," prefix to run the script in the current directory:"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ ./kc\n"})}),"\n",(0,a.jsx)(n.p,{children:"Begin by creating a new identity. This will be described in more detail later, but try it now with your own first name:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc create-id yourName\ndid:mdip:test:z3v8AuaYd1CGfC6PCQDXKyKkbt5kJ4o3h2ABBNPGyGNQfEQ99Ce\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The long string returned starting with ",(0,a.jsx)(n.code,{children:"did"})," will be unique to you. This is your new Decentralized IDentity (DID for short)."]}),"\n",(0,a.jsx)(n.p,{children:"Think of a DID as a secure reference. Only the owner of the reference can change what it points to. What makes it decentralized is that anyone can discover what it points to without involving a third party."}),"\n",(0,a.jsx)(n.p,{children:"Creating a new ID automatically creates a new wallet for your ID, which we will describe next."}),"\n",(0,a.jsx)(n.h2,{id:"working-with-wallets",children:"Working with Wallets"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"[!warning]\nThe Keychain CLI wallet is only to be used for experimental and development purposes."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The Keychain CLI wallet is not encrypted and is stored on the local user's file system. Future MDIP wallets will implement additional capabilities (ex: SIWYS). 3rd party wallet developers will also be invited to create MDIP-compatible user wallet implementations."}),"\n",(0,a.jsx)(n.h3,{id:"what-is-a-wallet",children:"What is a Wallet?"}),"\n",(0,a.jsx)(n.p,{children:"The wallet contains a user's private data, including secret keys and associated DIDs. The Keychain-CLI wallet also includes a user's locally named alias for each identity DID."}),"\n",(0,a.jsx)(n.h3,{id:"creating-a-wallet",children:"Creating a Wallet"}),"\n",(0,a.jsx)(n.p,{children:"Creating a wallet generates a unique seed that is used to derive a hierarchical-deterministic key-pair. This key-pair will be used to generate new unique key-pairs for each future DID generated using this wallet:"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["[!NOTE]\n",(0,a.jsx)(n.code,{children:"kc create-wallet"})," does nothing when you already have a wallet, like the one created by ",(0,a.jsx)(n.code,{children:"create-id"})," above."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc create-wallet\n{\n    "seed": {\n        "mnemonic": "P6f40acil4qA1oIHhoK_qNfBPjvdiTn8djxLtcIGMmu5ojQ0g-fAGLLn33Ix5TavvQTzvc6kXax509bQBZZiXjb7ibTToGyUn0oPeBvSV0RcvHOSXWRmATqIqd7dpQrdXqWAwVuxeQ3vy95e2NU",\n        "hdkey": {\n            "xpriv": "xprv9s21ZrQH143K2x2kGfQ7tgaVHZYQkQVQKbuHgQ4wG7qjfsBoMQD35Ly6rupdEDED1ZBWKtRGWnjwcf9Wxbyvwn4idCPe1kayCrBoLAp8Hvb",\n            "xpub": "xpub661MyMwAqRbcFS7DNgw8FpXDqbNu9sDFgpptUnUYpTNiYfWwtwXHd9HaiD1pEfLtMGVBKpCR9D6Vtriqkv7co4W72stnzpLdxPRmuLWJUHS"\n        }\n    },\n    "counter": 0,\n    "ids": {}\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Use the command ",(0,a.jsx)(n.code,{children:"show-wallet"})," to view the contents of your wallet; initially, the wallet is empty, but we will see private content added to the wallet as we create MDIP identities and operations:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc show-wallet\n{\n    "seed": {\n        "mnemonic": "BeSI1tnY5TtWweCdEHESV98MXc8CUCu0pFNZ1tLR-0XaP9PvtCcbcUrGfwwIy4qakOkL0hT88xl4Ko3SXbL3U6pEBY4rcROqEwnUuKUN2z9Dx4nKGNz29SDy1GaLV14NbYc1AEa01TEULJr1xzD5",\n        "hdkey": {\n            "xpriv": "xprv9s21ZrQH143K3MtcqnFrvMQKXVjV37BpYtZo47Vpy9xt44godPRrhcHgrejDPhBCnBk2K8z6CRzPGMDmeDmQGeuDsFwkmE14mrTEv4R33xy",\n            "xpub": "xpub661MyMwAqRbcFqy5wonsHVM45XZySZufv7VPrVuSXVVrvs1xAvk7FQcAhxLja5tXXhAv3nPqqftr3E7TmfbUKRXohhHb53N7AiN1iQvwa8p"\n        }\n    },\n    "counter": 0,\n    "ids": {}\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"backing-up-and-recovering-a-wallet",children:"Backing Up and Recovering a Wallet"}),"\n",(0,a.jsx)(n.p,{children:"To recover a wallet from a backup, you need two pieces of information:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"the seed phrase, aka mnemonic,"}),"\n",(0,a.jsx)(n.li,{children:"the backup DID."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The mnemonic consists of 12 short words (BIP-39) that are used to generate the wallet's private keys:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc show-mnemonic\nknow soon mind pen polar pulse patient salmon wage friend equip rotate\n"})}),"\n",(0,a.jsx)(n.p,{children:"Creating a wallet backup encrypts the current state of a user wallet content in a DID Document:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc backup-wallet\ndid:mdip:test:z3v8Auairrc7XjSdoA1QvuytZXmGdmjcaFsPb2xKjM6TzowPKRn\n"})}),"\n",(0,a.jsx)(n.p,{children:"If you lose the wallet file, you can regenerate the private keys from the mnemonic:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc import-wallet "know soon mind pen polar pulse patient salmon wage friend equip rotate"\n{\n    "seed": {\n        "mnemonic": "8PnD0nzyjd9TphttasCFXg_HNDntYdQlx_JHG6Y8K-U7nZUmkxeB4BLYv8xA9af-r6OChSul1Lp6gRPve7qnU_pOVTOE9c7qew-X7Nv_Vd6by-3IxI03ryHkgNjNTOxHlA6iae0D9wA6sFak",\n        "hdkey": {\n            "xpriv": "xprv9s21ZrQH143K4Yd3NBDr5kALF4foaGBbiocmBv9UuMeet9urHgi1LKaB51ud1SrRtfxhtbRTxjjTQMQei1BewYnBVnu3Wp5G13Ab768K7qF",\n            "xpub": "xpub661MyMwAqRbcH2hWUCkrSt74o6WHyiuT62YMzJZ6ThBdkxEzqE2Ft7tevKxzKH4xLdXpUqd32whgcTE3TJTmCgJYqoXvXn6sdaEsWAUCBbZ"\n        }\n    },\n    "counter": 0,\n    "ids": {}\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Once a wallet's keys are recreated from the mnemonic, you can recover its contents from a backup DID generated using the backup process above:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc recover-wallet did:mdip:z3v8AuaXcTg74E4nWXDkX3wtZXjGjvp55z7QYixWSUHyG89qFTy\n{\n    "seed": {\n        "mnemonic": "P6f40acil4qA1oIHhoK_qNfBPjvdiTn8djxLtcIGMmu5ojQ0g-fAGLLn33Ix5TavvQTzvc6kXax509bQBZZiXjb7ibTToGyUn0oPeBvSV0RcvHOSXWRmATqIqd7dpQrdXqWAwVuxeQ3vy95e2NU",\n        "hdkey": {\n            "xpriv": "xprv9s21ZrQH143K2x2kGfQ7tgaVHZYQkQVQKbuHgQ4wG7qjfsBoMQD35Ly6rupdEDED1ZBWKtRGWnjwcf9Wxbyvwn4idCPe1kayCrBoLAp8Hvb",\n            "xpub": "xpub661MyMwAqRbcFS7DNgw8FpXDqbNu9sDFgpptUnUYpTNiYfWwtwXHd9HaiD1pEfLtMGVBKpCR9D6Vtriqkv7co4W72stnzpLdxPRmuLWJUHS"\n        }\n    },\n    "counter": 1,\n    "ids": {\n        "extropy": {\n            "did": "did:mdip:test:z3v8AuaiyHqG3KMpcoBoqvUpMrtCsGsu8iPU1oTEfcsUNxtGyt4",\n            "account": 0,\n            "index": 0\n        }\n    },\n    "current": "extropy"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"recover-wallet"})," does not overwrite the existing wallet, it only prints the contents of the backup. The output should be redirected to a temporary ",(0,a.jsx)(n.code,{children:"wallet.json"})," file, which can then be copied over the existing wallet in the ",(0,a.jsx)(n.code,{children:"./data"})," folder."]}),"\n",(0,a.jsxs)(n.p,{children:["Do not redirect or pipe the output directly to the existing ",(0,a.jsx)(n.code,{children:"wallet.json"})," file, which will cause an error."]}),"\n",(0,a.jsx)(n.h2,{id:"working-with-ids",children:"Working with IDs"}),"\n",(0,a.jsxs)(n.p,{children:["The identity operations below meet the specifications defined by ",(0,a.jsx)(n.a,{href:"https://www.w3.org/TR/did-core/",children:"W3C DID Core"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"what-is-an-id",children:"What is an ID?"}),"\n",(0,a.jsx)(n.p,{children:"An ID (identity) refers to the digital identification of an agent DID stored in a user wallet. The user can create new identities on demand, locally, at no cost and with no need of any networking capabilities. An identity's agent DID can be registered with a supported DID registry."}),"\n",(0,a.jsx)(n.p,{children:"We see examples of these DIDs throughout this document. An MDIP DID example looks like this:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"did:mdip:z3v8AuagsGQwffFd2oVhkdcTWRBi2ps5FdRAJD4jzEVMszkYBCj"})}),"\n",(0,a.jsx)(n.h3,{id:"creating-an-id",children:"Creating an ID"}),"\n",(0,a.jsx)(n.p,{children:"Creating a new agent DID uses the wallet's key-pairs to generate a new DID identifier:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc create-id Alice\ndid:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY\n"})}),"\n",(0,a.jsx)(n.p,{children:"The new DID and associated name are stored the user's private wallet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc show-wallet\n{\n    "seed": {\n        "mnemonic": "MLPxAgU1ym_v_YR2Q6-nY47L8xxMqbJqG_NzRNBh3_MHcZ4QQA2x3DI4fSAG2g-XHC3M_EGtmqY6NhVpsC9yKysFYQmcqjm7cAknpJajZYCVlVs7hJPRLdOqkpy4eotTVblgZdYsYtcgbU9kmYc",\n        "hdkey": {\n            "xpriv": "xprv9s21ZrQH143K2x2kGfQ7tgaVHZYQkQVQKbuHgQ4wG7qjfsBoMQD35Ly6rupdEDED1ZBWKtRGWnjwcf9Wxbyvwn4idCPe1kayCrBoLAp8Hvb",\n            "xpub": "xpub661MyMwAqRbcFS7DNgw8FpXDqbNu9sDFgpptUnUYpTNiYfWwtwXHd9HaiD1pEfLtMGVBKpCR9D6Vtriqkv7co4W72stnzpLdxPRmuLWJUHS"\n        }\n    },\n    "counter": 1,\n    "ids": {\n        "Alice": {\n            "did": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n            "account": 0,\n            "index": 0\n        }\n    },\n    "current": "Alice"\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"The new DID can also be registered on any MDIP registry the user chooses."}),"\n",(0,a.jsx)(n.h3,{id:"resolve-current-agent-id",children:"Resolve Current Agent ID"}),"\n",(0,a.jsxs)(n.p,{children:["Resolving an ID means fetching the documents associated with an ID. The current CLI user's agent documents can be displayed using the command ",(0,a.jsx)(n.code,{children:"kc resolve-id"})," without a DID argument:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc resolve-id\n{\n    "@context": "https://w3id.org/did-resolution/v1",\n    "didDocument": {\n        "@context": [\n            "https://www.w3.org/ns/did/v1"\n        ],\n        "id": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n        "verificationMethod": [\n            {\n                "id": "#key-1",\n                "controller": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n                "type": "EcdsaSecp256k1VerificationKey2019",\n                "publicKeyJwk": {\n                    "crv": "secp256k1",\n                    "kty": "EC",\n                    "x": "3tJzOiiSFhDIzMcg_YGLtzvBjs5L9DhBvRmUZVEbV5c",\n                    "y": "eVUruQfrt1Fx_m2CW7t0KHrRk-JlHzgZLY6LPC3lgjU"\n                }\n            }\n        ],\n        "authentication": [\n            "#key-1"\n        ]\n    },\n    "didDocumentMetadata": {\n        "created": "2024-03-22T14:48:41.213Z"\n    },\n    "didDocumentData": {},\n    "mdip": {\n        "registry": "hyperswarm",\n        "type": "agent",\n        "version": 1\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"backing-up-an-id",children:"Backing up an ID"}),"\n",(0,a.jsx)(n.p,{children:"Backing up an identity is the process of posting an encrypted document DID to the identity's vault. The vault DID document contains the encrypted history of the identity at the time of the backup, enabling recovery of all Verifiable Credentials (VCs) associated with the DID:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc backup-id\nOK\n"})}),"\n",(0,a.jsxs)(n.p,{children:["After running ",(0,a.jsx)(n.code,{children:"backup-id"}),", note the new ",(0,a.jsx)(n.code,{children:"vault"})," key in the agent document:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc resolve-id\n{\n    "@context": "https://w3id.org/did-resolution/v1",\n    "didDocument": {\n        "@context": [\n            "https://www.w3.org/ns/did/v1"\n        ],\n        "id": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n\n    ...\n\n    "didDocumentData": {\n        "vault": "did:mdip:test:z3v8AuafhKoRuEkDTjyoabgPXKx4Yi4cPmPdzUgMNyKxkzYNA6u"\n    },\n    \n    ...\n\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Note that each wallet and each identity have their own backups. This will allow the user to chose a different MDIP registry (or no registry) with different security or permanence attributes for a particular identity (ie: some DIDs will be more valuable than others to the user)."}),"\n",(0,a.jsx)(n.h3,{id:"removing-an-id",children:"Removing an ID"}),"\n",(0,a.jsx)(n.p,{children:"At any time, a user may remove a named DID from their wallet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc remove-id Alice\nID Alice removed\n"})}),"\n",(0,a.jsx)(n.h3,{id:"recovering-an-id",children:"Recovering an ID"}),"\n",(0,a.jsx)(n.p,{children:"Recovery of a DID's history using the Vault DID is possible because the Vault data is encrypted with the wallet's keys. The wallet keys are used to decrypt the Vault DID data containing the DID's private history:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc recover-id did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY\nRecovered Alice!\n"})}),"\n",(0,a.jsx)(n.h3,{id:"listing-ids",children:"Listing IDs"}),"\n",(0,a.jsx)(n.p,{children:"A user's wallet may contain any number of MDIP agent DID identities:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc create-id Bob\ndid:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc list-ids\nAlice\nBob  <<< current\n"})}),"\n",(0,a.jsx)(n.h3,{id:"switching-ids",children:"Switching IDs"}),"\n",(0,a.jsx)(n.p,{children:"A user can switch between their various MDIP identities:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$kc use-id Alice\nOK\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc list-ids\nAlice  <<< current\nBob\n"})}),"\n",(0,a.jsx)(n.h3,{id:"rotating-an-ids-keys",children:"Rotating an ID's Keys"}),"\n",(0,a.jsx)(n.p,{children:"A user can rotate the public keys associated with a particular DID. This is a common privacy and security feature that allows the user to keep the same DID but sign future documents with new keys."}),"\n",(0,a.jsxs)(n.p,{children:["The command ",(0,a.jsx)(n.code,{children:"rotate-keys"})," rotates the keys of the wallet's currently active user id:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc rotate-keys\n{\n    "@context": "https://w3id.org/did-resolution/v1",\n    "didDocument": {\n        "@context": [\n            "https://www.w3.org/ns/did/v1"\n        ],\n        "id": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n        "verificationMethod": [\n            {\n                "id": "#key-2",\n                "controller": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n                "type": "EcdsaSecp256k1VerificationKey2019",\n                "publicKeyJwk": {\n                    "kty": "EC",\n                    "crv": "secp256k1",\n                    "x": "e3j21wCPrDSUiY4fQaPYYNLZ-7wcOI6d_WcLy3RTSWc",\n                    "y": "9-kZlDiwShHihazR15z9VYEIks9W3PKdt0Cae7FJFA4"\n                }\n            }\n        ],\n        "authentication": [\n            "#key-2"\n        ]\n    },\n    "didDocumentMetadata": {\n        "created": "2024-03-22T14:48:41.213Z",\n        "updated": "2024-03-22T14:53:23.565Z"\n    },\n    "didDocumentData": {\n        "vault": "did:mdip:test:z3v8AuafhKoRuEkDTjyoabgPXKx4Yi4cPmPdzUgMNyKxkzYNA6u"\n    },\n    "mdip": {\n        "registry": "hyperswarm",\n        "type": "agent",\n        "version": 1\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"working-with-dids",children:"Working with DIDs"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-a-did",children:"What is a DID"}),"\n",(0,a.jsxs)(n.p,{children:["A Decentralized Identifier (DID) is a standardized document to define a digital identity. DIDs are designed to be decentralized, not requiring a specific identity provider or certificate authority. For more detailed information, see the W3C's ",(0,a.jsx)(n.a,{href:"https://www.w3.org/TR/did-core/",children:"documentation"})," documentation."]}),"\n",(0,a.jsx)(n.h3,{id:"resolving-a-did",children:"Resolving a DID"}),"\n",(0,a.jsx)(n.p,{children:"Resolving a DID means fetching the documents associated with a DID. The documents are returns in a single JSON object."}),"\n",(0,a.jsxs)(n.p,{children:["This example returns a Credential object that includes a schema in its ",(0,a.jsx)(n.code,{children:"didDocumentData"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ ./kc resolve-did did:mdip:test:z3v8AuaYLYSWZJUa4bSadeoiNA3ps8dWDYtsmJNMDJhbFDjaKaX\n{\n    "@context": "https://w3id.org/did-resolution/v1",\n    "didDocument": {\n        "@context": [\n            "https://www.w3.org/ns/did/v1"\n        ],\n        "id": "did:mdip:test:z3v8AuaYLYSWZJUa4bSadeoiNA3ps8dWDYtsmJNMDJhbFDjaKaX",\n        "controller": "did:mdip:test:z3v8AuaaBKfwrt2Y7AAbDaGqLNgyn1BDhP7wUFpEMEngmwYwi17"\n    },\n    "didDocumentMetadata": {\n        "created": "2024-03-21T20:26:01.826Z"\n    },\n    "didDocumentData": {\n        "$schema": "http://json-schema.org/draft-07/schema#",\n        "properties": {\n            "account": {\n                "format": "uri",\n                "type": "string"\n            },\n            "service": {\n                "type": "string"\n            }\n        },\n        "required": [\n            "service",\n            "account"\n        ],\n        "type": "object"\n    },\n    "mdip": {\n        "registry": "hyperswarm",\n        "type": "asset",\n        "version": 1\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"exporting-an-did",children:"Exporting an DID"}),"\n",(0,a.jsxs)(n.p,{children:["For offline and off-network use, a DID can be exported to file so it can be stored or transported offline. The ",(0,a.jsx)(n.code,{children:"export-did"})," command can be used to export any DID, including both agent or asset documents. The resulting output will include the entire history of a DID, including prior versions of keys:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc export-did did:mdip:z3v8AuagbRf9UrW7AQQqHCGejPYafoczuQ5uTuF3mFuc5vEMUkj\n[\n    {\n        "time": "2024-03-13T17:38:54.926Z",\n        "ordinal": 0,\n        "did": "did:mdip:z3v8AuagsGQwffFd2oVhkdcTWRBi2ps5FdRAJD4jzEVMszkYBCj",\n        "txn": {\n            "op": "create",\n            "created": "2024-03-13T17:38:54.926Z",\n(...) #Lots of DID history goes here...\n            "prev": "523f72b65b66cc3a829a1bf6a0ec058aea29af0f8d2f7fdd1938d282abe6efc4",\n            "signature": {\n                "signer": "did:mdip:z3v8AuagsGQwffFd2oVhkdcTWRBi2ps5FdRAJD4jzEVMszkYBCj",\n                "signed": "2024-03-13T18:30:20.353Z",\n                "hash": "5a226a2899c579e5d99055a1d1a2f39a41a8ab44a4891e248fb94d8c44f4e67a",\n                "value": "9938df3ed8114d4bf1a78d2829d0ee22d17d7ffb0aa9eef46f2fbf386a9ae8a2158d3555c5495e04c9bd45d1ea090758c4ec30e23703988fe3a5780c62da906d"\n            }\n        }\n    }\n]\n'})}),"\n",(0,a.jsx)(n.h3,{id:"importing-an-did",children:"Importing an DID"}),"\n",(0,a.jsxs)(n.p,{children:["For offline and off-network use, a DID can be imported from a file so it can be stored on a new node's registry. The ",(0,a.jsx)(n.code,{children:"import-did"})," command will import DIDs exported by the ",(0,a.jsx)(n.code,{children:"export-did"})," command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc import-did exported-DID-file.json\n1\n"})}),"\n",(0,a.jsx)(n.h2,{id:"working-with-credentials",children:"Working with Credentials"}),"\n",(0,a.jsxs)(n.p,{children:["The credential operations below meet the specifications defined in ",(0,a.jsx)(n.a,{href:"https://www.w3.org/TR/vc-data-model/",children:"W3C VC Data Model"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"what-is-a-credential",children:"What is a Credential?"}),"\n",(0,a.jsx)(n.p,{children:"From W3C:"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Credentials are a part of our daily lives; driver's licenses are used to assert that we are capable of operating a motor vehicle, university degrees can be used to assert our level of education, and government-issued passports enable us to travel between countries. These credentials provide benefits to us when used in the physical world, but their use on the Web continues to be elusive."}),"\n",(0,a.jsxs)(n.p,{children:["- ",(0,a.jsx)(n.a,{href:"https://www.w3.org/TR/vc-data-model/#abstract",children:"Source"})]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"what-is-a-verifiable-credential",children:"What is a Verifiable Credential?"}),"\n",(0,a.jsx)(n.p,{children:"From W3C:"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"A verifiable credential (VC) can represent all of the same information that a physical credential represents. The addition of technologies, such as digital signatures, makes verifiable credentials more tamper-evident and more trustworthy than their physical counterparts."}),"\n",(0,a.jsxs)(n.p,{children:["- ",(0,a.jsx)(n.a,{href:"https://www.w3.org/TR/vc-data-model/#what-is-a-verifiable-credential",children:"Source"})]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"mdip-verifiable-credential-basic-workflow",children:"MDIP Verifiable Credential Basic Workflow"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:i(1935).A+"",width:"1057",height:"600"})}),"\n",(0,a.jsx)(n.p,{children:"The basic workflow involves three actors: Alice (the Issuer), Bob (the Holder), and Carol (the Verifier). In this scenario, Bob wishes to gain access to some resource controlled by Carol. Carol will grant Bob access only if Bob can prove that he owns a particular credential issued by Alice."}),"\n",(0,a.jsx)(n.h4,{id:"steps-to-creating-a-vc",children:"Steps to Creating a VC:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"The Issuer (Alice) creates a Credential. The Credential is like a type or a class; it describes the Credential, and specifies a schema. Each Verified Credential is an instance of a Credential."}),"\n",(0,a.jsx)(n.li,{children:"The Issuer binds a Credential to a Holder"}),"\n",(0,a.jsx)(n.li,{children:"The Issuer attest a Credential, creating a Verifiable Credential (VC),  by signing and encrypting a Bound Credential."}),"\n",(0,a.jsx)(n.li,{children:"The Holder (Bob) accepts the VC (adding it to their wallet for future use)."}),"\n",(0,a.jsx)(n.li,{children:"The Verifier (Carol) creates a Challenge. A Challenge is a list of Credentials and trusted Issuers."}),"\n",(0,a.jsx)(n.li,{children:"The Holder creates a Response to the Challenge. A Response contains a list of Verified Presentations that correspond to the Credentials and trusted Issuers listed in the Challenge. If the User's wallet contains the right Verified Credentials, then it will be possible to create a valid Response to the Challenge. The Response is encrypted for the Verifier."}),"\n",(0,a.jsx)(n.li,{children:"The Verifier validates the Response. The Response is verified by checking that it contains a Verified Presentation for every Credential in the Challenge,  that the VP is issued by a trusted Issuer, and that the VC corresponding the VP has not been revoked. If everything checks out the Response is accepted and the Holder is granted authorization."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"preparing-or-selecting-a-credential-schema-file",children:"Preparing or Selecting a Credential Schema File"}),"\n",(0,a.jsx)(n.p,{children:"JSON Schemas are ubiquitous. The schema defines the content of a future credential. Standardized schemas (ex: schema.org) for common credentials (ex: address, membership, etc) should be used to facilitate data interoperability."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ cat data/schema/social-media.json\n{\n    "$schema": "http://json-schema.org/draft-07/schema#",\n    "type": "object",\n    "properties": {\n        "service": {\n            "type": "string"\n        },\n        "account": {\n            "type": "string",\n            "format": "uri"\n        }\n    },\n    "required": [\n        "service",\n        "account"\n    ]\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"creating-a-credential-did",children:"Creating a Credential DID"}),"\n",(0,a.jsx)(n.p,{children:"MDIP-compatible credentials are created using a JSON schema file as a template. The schema file will be registered with a Gatekeeper to create the Credential and receive its associated DID."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc create-credential data/schema/social-media.json social-media\ndid:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc list-names\n{\n    "social-media": "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n}\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc resolve-did social-media\n{\n    "@context": "https://w3id.org/did-resolution/v1",\n    "didDocument": {\n        "@context": [\n            "https://www.w3.org/ns/did/v1"\n        ],\n        "id": "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7",\n        "controller": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY"\n    },\n    "didDocumentMetadata": {\n        "created": "2024-03-22T15:00:31.047Z"\n    },\n    "didDocumentData": {\n        "$schema": "http://json-schema.org/draft-07/schema#",\n        "properties": {\n            "account": {\n                "format": "uri",\n                "type": "string"\n            },\n            "service": {\n                "type": "string"\n            }\n        },\n        "required": [\n            "service",\n            "account"\n        ],\n        "type": "object"\n    },\n    "mdip": {\n        "registry": "hyperswarm",\n        "type": "asset",\n        "version": 1\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"The command above created a DID document with the schema file provided. For convenience, the user's wallet now contains a named alias (social-media) to the new credential's DID."}),"\n",(0,a.jsx)(n.h3,{id:"binding-the-credential",children:"Binding the Credential"}),"\n",(0,a.jsx)(n.p,{children:"The Credential DID must now be bound to the Agent DID who is to become the Subject of the new credential. The binding process will generate a credential in JSON form that will be pre-populated with the DIDs of subject, issuer and credential type."}),"\n",(0,a.jsxs)(n.p,{children:["In the command below, both ",(0,a.jsx)(n.code,{children:"social-media"})," and ",(0,a.jsx)(n.code,{children:"Bob"}),"  are resolved to their respective DIDs using the named alias and identity names from the user's private wallet:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc bind-credential social-media Bob\n{\n    "@context": [\n        "https://www.w3.org/ns/credentials/v2",\n        "https://www.w3.org/ns/credentials/examples/v2"\n    ],\n    "type": [\n        "VerifiableCredential",\n        "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n    ],\n    "issuer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n    "validFrom": "2024-03-22T15:04:33.684Z",\n    "validUntil": null,\n    "credentialSubject": {\n        "id": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk"\n    },\n    "credential": {\n        "account": "http://yNtjneCOyzLGUNtiAK.wnarGe6zodO-cGG47CGWl66-kvLbKVHCrFQPFy-ihIYfNlEuc",\n        "service": "in sit aliquip"\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"This JSON Bound Credential does not yet contain user-specific information other than the DID. The binding process pre-filled the required fields (account and service)with dummy data to be replaced in next step."}),"\n",(0,a.jsx)(n.h3,{id:"editing-the-credential",children:"Editing the Credential"}),"\n",(0,a.jsx)(n.p,{children:"The bound credential must be populated with holder-specific information. This step will typically be automated in most deployments. In the case of our social media schema, we must populate a service field with the name of an online social media provider, and we must populate the account field with a URL to the holder's specific social media account."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc bind-credential social-media Bob > bob-twitter.json\n(output sent to the bob-twitter.json file)\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Edit the ",(0,a.jsx)(n.code,{children:"bob-twitter.json"})," file to populate the ",(0,a.jsx)(n.code,{children:"credential.account"})," and ",(0,a.jsx)(n.code,{children:"credential.service"})," fields with information that is pertinent with the subject of the credential:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:'$ cat bob-twitter.json\n{\n    "@context": [\n        "`https://`www.`w3.org`/ns/credentials/v2",\n        "https://www.w3.org/ns/credentials/examples/v2"\n    ],\n    "type": [\n        "VerifiableCredential",\n        "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n    ],\n    "issuer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n    "validFrom": "2024-03-22T15:06:24.773Z",\n    "validUntil": null,\n    "credentialSubject": {\n        "id": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk"\n    },\n    "credential": {\n        "account": "https://twitter.com/bob",\n        "service": "twitter.com"\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"attesting-a-credential",children:"Attesting a credential"}),"\n",(0,a.jsx)(n.p,{children:"The credential, bound and populated with the subject's information, must now be signed by the issuer and encrypted to the subject's keys:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc attest-credential bob-twitter.json\ndid:mdip:test:z3v8AuaZAWJuERtD5CwDu2mNpLHjJ6imdNGTwdZpfKY6FK5ASk2\n"})}),"\n",(0,a.jsx)(n.p,{children:"The issuer (Alice) should now send the VC's DID to the subject (Bob)."}),"\n",(0,a.jsx)(n.h3,{id:"verifying-a-credential",children:"Verifying a credential"}),"\n",(0,a.jsx)(n.p,{children:"Only the issuer and holder of a VC can verify it since it is encrypted. When Bob receives the credential from Alice, he can view its contents before accepting it:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc decrypt-json did:mdip:test:z3v8AuaZAWJuERtD5CwDu2mNpLHjJ6imdNGTwdZpfKY6FK5ASk2\n{\n    "@context": [\n        "https://www.w3.org/ns/credentials/v2",\n        "https://www.w3.org/ns/credentials/examples/v2"\n    ],\n    "type": [\n        "VerifiableCredential",\n        "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n    ],\n    "issuer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n    "validFrom": "2024-03-22T15:06:24.773Z",\n    "validUntil": null,\n    "credentialSubject": {\n        "id": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk"\n    },\n    "credential": {\n        "account": "https://twitter.com/bob",\n        "service": "twitter.com"\n    },\n    "signature": {\n        "signer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n        "signed": "2024-03-22T15:09:02.994Z",\n        "hash": "62f7cb1a31d338d29287f9ce91b4da103391dca88b853ea1b05920c6049ae8ff",\n        "value": "37941a42492a431ceaff91c86de55eb0cd3ed98107a3ce19a76d88511b7fe2bc6fcf298c69e431b048ab0786e9624b647e4d03a4c26031c4c6e2b6882223defe"\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"accepting-a-credential",children:"Accepting a credential"}),"\n",(0,a.jsx)(n.p,{children:"Accepting a credential adds the DID to the user's local wallet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc accept-credential did:mdip:test:z3v8AuaZAWJuERtD5CwDu2mNpLHjJ6imdNGTwdZpfKY6FK5ASk2\nOK saved\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc show-wallet\n{\n    "seed": {\n        "mnemonic": "MLPxAgU1ym_v_YR2Q6-nY47L8xxMqbJqG_NzRNBh3_MHcZ4QQA2x3DI4fSAG2g-XHC3M_EGtmqY6NhVpsC9yKysFYQmcqjm7cAknpJajZYCVlVs7hJPRLdOqkpy4eotTVblgZdYsYtcgbU9kmYc",\n        "hdkey": {\n            "xpriv": "xprv9s21ZrQH143K2x2kGfQ7tgaVHZYQkQVQKbuHgQ4wG7qjfsBoMQD35Ly6rupdEDED1ZBWKtRGWnjwcf9Wxbyvwn4idCPe1kayCrBoLAp8Hvb",\n            "xpub": "xpub661MyMwAqRbcFS7DNgw8FpXDqbNu9sDFgpptUnUYpTNiYfWwtwXHd9HaiD1pEfLtMGVBKpCR9D6Vtriqkv7co4W72stnzpLdxPRmuLWJUHS"\n        }\n    },\n    "counter": 3,\n    "ids": {\n        "Alice": {\n            "did": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n            "account": 0,\n            "index": 1,\n            "owned": [\n                "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7",\n                "did:mdip:test:z3v8AuaZAWJuERtD5CwDu2mNpLHjJ6imdNGTwdZpfKY6FK5ASk2"\n            ]\n        },\n        "Bob": {\n            "did": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk",\n            "account": 2,\n            "index": 0,\n            "held": [\n                "did:mdip:test:z3v8AuaZAWJuERtD5CwDu2mNpLHjJ6imdNGTwdZpfKY6FK5ASk2"\n            ]\n        }\n    },\n    "current": "Bob",\n    "names": {\n        "social-media": "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"revoking-a-credential",children:"Revoking a credential"}),"\n",(0,a.jsxs)(n.p,{children:["The issuer of a credential can revoke their attestation at any time. This will blank out the VC's credential content data and set the ",(0,a.jsx)(n.code,{children:"didDocumentMetadata.deactivated"})," property to true."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc revoke-credential did:mdip:test:z3v8AuaZAWJuERtD5CwDu2mNpLHjJ6imdNGTwdZpfKY6FK5ASk2\nOK revoked\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc resolve-did did:mdip:test:z3v8AuaZAWJuERtD5CwDu2mNpLHjJ6imdNGTwdZpfKY6FK5ASk2\n{\n    "@context": "https://w3id.org/did-resolution/v1",\n    "didDocument": {},\n    "didDocumentMetadata": {\n        "created": "2024-03-22T15:09:03.056Z",\n        "deactivated": true,\n        "updated": "2024-03-22T15:17:53.368Z"\n    },\n    "didDocumentData": {},\n    "mdip": {\n        "registry": "hyperswarm",\n        "type": "asset",\n        "version": 1\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"working-with-the-did-manifest",children:"Working with the DID Manifest"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-the-did-manifest",children:"What is the DID Manifest?"}),"\n",(0,a.jsx)(n.p,{children:"The DID Manifest is a public data container that is returned with the DID document data. Users can chose to publish or reveal any attestation they receive. All information in the manifest is publicly viewable."}),"\n",(0,a.jsxs)(n.p,{children:["Example of ",(0,a.jsx)(n.code,{children:"didDocumentData"})," with a manifest :"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n    "manifest": {\n        "did:mdip:test:z3v8Auaf3eZEUqJEu8xu1uUwxK3ZTLLXsfg9U7p6awPzyuD1AAT": {\n            "@context": [\n                "https://www.w3.org/ns/credentials/v2",\n                "https://www.w3.org/ns/credentials/examples/v2"\n            ],\n            "type": [\n                "VerifiableCredential",\n                "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n            ],\n            "issuer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n            "validFrom": "2024-03-22T15:06:24.773Z",\n            "validUntil": null,\n            "credentialSubject": {\n                "id": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk"\n            },\n            "credential": null,\n            "signature": {\n                "signer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n                "signed": "2024-03-22T18:00:19.405Z",\n                "hash": "62f7cb1a31d338d29287f9ce91b4da103391dca88b853ea1b05920c6049ae8ff",\n                "value": "37941a42492a431ceaff91c86de55eb0cd3ed98107a3ce19a76d88511b7fe2bc6fcf298c69e431b048ab0786e9624b647e4d03a4c26031c4c6e2b6882223defe"\n            }\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"publishing-a-verifiable-credential",children:"Publishing a Verifiable Credential"}),"\n",(0,a.jsx)(n.p,{children:"Publishing a VC to a DID Manifest will make it known that the DID holder has received a particular Verifiable Credential without revealing the credential's values. In this example, we know that Bob has a social-media attestation, but we do not know the details:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc add-name bob-twitter did:mdip:test:z3v8Auaf3eZEUqJEu8xu1uUwxK3ZTLLXsfg9U7p6awPzyuD1AAT\nOK Saved\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc publish-credential bob-twitter\n{\n    "@context": [\n        "https://www.w3.org/ns/credentials/v2",\n        "https://www.w3.org/ns/credentials/examples/v2"\n    ],\n    "type": [\n        "VerifiableCredential",\n        "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n    ],\n    "issuer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n    "validFrom": "2024-03-22T15:06:24.773Z",\n    "validUntil": null,\n    "credentialSubject": {\n        "id": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk"\n    },\n    "credential": null,\n    "signature": {\n        "signer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n        "signed": "2024-03-22T18:00:19.405Z",\n        "hash": "62f7cb1a31d338d29287f9ce91b4da103391dca88b853ea1b05920c6049ae8ff",\n        "value": "37941a42492a431ceaff91c86de55eb0cd3ed98107a3ce19a76d88511b7fe2bc6fcf298c69e431b048ab0786e9624b647e4d03a4c26031c4c6e2b6882223defe"\n    }\n}\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc resolve-id\n{\n    "@context": "https://w3id.org/did-resolution/v1",\n    "didDocument": {\n        "@context": [\n            "https://www.w3.org/ns/did/v1"\n        ],\n        "id": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk",\n        "verificationMethod": [\n            {\n                "id": "#key-1",\n                "controller": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk",\n                "type": "EcdsaSecp256k1VerificationKey2019",\n                "publicKeyJwk": {\n                    "crv": "secp256k1",\n                    "kty": "EC",\n                    "x": "IGP1mIaBZPh5QYfvrxxR9JzQWa-hsB4J_bwWwFZjOa4",\n                    "y": "wQrOGoP_S5bckp-U8zb2UYxFYM4xLWdIuVZ8c0NRUv4"\n                }\n            }\n        ],\n        "authentication": [\n            "#key-1"\n        ]\n    },\n    "didDocumentMetadata": {\n        "created": "2024-03-22T14:55:27.374Z",\n        "updated": "2024-03-22T18:01:00.220Z"\n    },\n    "didDocumentData": {\n        "manifest": {\n            "did:mdip:test:z3v8Auaf3eZEUqJEu8xu1uUwxK3ZTLLXsfg9U7p6awPzyuD1AAT": {\n                "@context": [\n                    "https://www.w3.org/ns/credentials/v2",\n                    "https://www.w3.org/ns/credentials/examples/v2"\n                ],\n                "type": [\n                    "VerifiableCredential",\n                    "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n                ],\n                "issuer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n                "validFrom": "2024-03-22T15:06:24.773Z",\n                "validUntil": null,\n                "credentialSubject": {\n                    "id": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk"\n                },\n                "credential": null,\n                "signature": {\n                    "signer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n                    "signed": "2024-03-22T18:00:19.405Z",\n                    "hash": "62f7cb1a31d338d29287f9ce91b4da103391dca88b853ea1b05920c6049ae8ff",\n                    "value": "37941a42492a431ceaff91c86de55eb0cd3ed98107a3ce19a76d88511b7fe2bc6fcf298c69e431b048ab0786e9624b647e4d03a4c26031c4c6e2b6882223defe"\n                }\n            }\n        }\n    },\n    "mdip": {\n        "registry": "hyperswarm",\n        "type": "agent",\n        "version": 1\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"revealing-a-verifiable-credential",children:"Revealing a Verifiable Credential"}),"\n",(0,a.jsx)(n.p,{children:"Revealing a VC to a DID Manifest will decrypt and expose the entire VC content to the public:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc reveal-credential bob-twitter\n{\n    "@context": [\n        "https://www.w3.org/ns/credentials/v2",\n        "https://www.w3.org/ns/credentials/examples/v2"\n    ],\n    "type": [\n        "VerifiableCredential",\n        "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n    ],\n    "issuer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n    "validFrom": "2024-03-22T15:06:24.773Z",\n    "validUntil": null,\n    "credentialSubject": {\n        "id": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk"\n    },\n    "credential": {\n        "account": "https://twitter.com/bob",\n        "service": "twitter.com"\n    },\n    "signature": {\n        "signer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n        "signed": "2024-03-22T18:00:19.405Z",\n        "hash": "62f7cb1a31d338d29287f9ce91b4da103391dca88b853ea1b05920c6049ae8ff",\n        "value": "37941a42492a431ceaff91c86de55eb0cd3ed98107a3ce19a76d88511b7fe2bc6fcf298c69e431b048ab0786e9624b647e4d03a4c26031c4c6e2b6882223defe"\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"unpublishing-a-verifiable-credential",children:"Unpublishing a Verifiable Credential"}),"\n",(0,a.jsx)(n.p,{children:"At any time, a VC holder can decide to remove VCs published on their DID Manifest."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc unpublish-credential bob-twitter\nOK\n"})}),"\n",(0,a.jsx)(n.h2,{id:"working-with-challenges-and-responses",children:"Working with Challenges and Responses"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-a-challenge-and-response",children:"What is a challenge and response?"}),"\n",(0,a.jsx)(n.p,{children:"The VC model enables 3rd party entities to issue a Challenge requesting proof from a VC Holder. The VC Holder may respond (at the holder's discretion) with a Verifiable Presentation providing tamper-proof evidence data in response to the Challenge request."}),"\n",(0,a.jsx)(n.h3,{id:"creating-a-challenge",children:"Creating a Challenge"}),"\n",(0,a.jsxs)(n.p,{children:["The challenge is created from a schema file or from an existing DID pointing to an existing schema credential. To create a challenge from a schema file, use ",(0,a.jsx)(n.code,{children:"kc create-challenge"}),"; to create a challenge from an existing credential DID, use ",(0,a.jsx)(n.code,{children:"kc create-challenge-cc"})," instead."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc create-challenge-cc social-media sm-challenge\ndid:mdip:test:z3v8AuaaxRxwZCPUnpCc4RoV5CZjeYVJepmJTVeJrpvyyB6LmwN\n"})}),"\n",(0,a.jsxs)(n.p,{children:["In the command above, ",(0,a.jsx)(n.code,{children:"social-media"})," is a named alias in Alice's wallet that resolves to the DID of the social-medial credential in examples above. ",(0,a.jsx)(n.code,{children:"sm-challenge"})," is a new named alias in Alice's wallet that contains the DID of the new challenge document:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc resolve-did sm-challenge\n{\n    "@context": "https://w3id.org/did-resolution/v1",\n    "didDocument": {\n        "@context": [\n            "https://www.w3.org/ns/did/v1"\n        ],\n        "id": "did:mdip:test:z3v8AuaaxRxwZCPUnpCc4RoV5CZjeYVJepmJTVeJrpvyyB6LmwN",\n        "controller": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY"\n    },\n    "didDocumentMetadata": {\n        "created": "2024-03-22T18:18:35.413Z"\n    },\n    "didDocumentData": {\n        "credentials": [\n            {\n                "schema": "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n            }\n        ]\n    },\n    "mdip": {\n        "registry": "hyperswarm",\n        "type": "asset",\n        "version": 1\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"creating-a-verifiable-presentation-response",children:"Creating a Verifiable Presentation Response"}),"\n",(0,a.jsx)(n.p,{children:"When presented with a challenge, a user can prepare a Verifiable Presentation of the credentials claims requested in the challenge."}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"The user can first verify that they are using the identity they want to create a Verifiable Presentation for:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc use-id Bob\nOK\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Next, the user can optionally create their own alias to interact with the challenge DID:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc add-name sm-challenge did:mdip:test:z3v8AuaaxRxwZCPUnpCc4RoV5CZjeYVJepmJTVeJrpvyyB6LmwN\n"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"[!NOTE]\nIf you're testing as both Alice and Bob from a single wallet, you can skip this step."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Then the user can create a repsonse:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc create-response sm-challenge\ndid:mdip:test:z3v8AuadZ56m4x2UTpeY3HhSFvFQnrCUyASBYA77vqrqQr9SR99\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The command above mapped the Challenge with previously received VCs and found one matching the request for Bob's twitter account attestation. The resulting DID document contains a Verifiable Presentation revealing the twitter account VC data encrypted to the requesting party (Alice)."}),"\n",(0,a.jsx)(n.h3,{id:"verifying-a-vp-response",children:"Verifying a VP Response"}),"\n",(0,a.jsx)(n.p,{children:"To verify the response received to a challenge, a user simply passes the DID of the VP received from the VC Holder being challenged."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc use-id Alice\nOK\nkc verify-response did:mdip:test:z3v8AuadZ56m4x2UTpeY3HhSFvFQnrCUyASBYA77vqrqQr9SR99\n[\n    {\n        "@context": [\n            "https://www.w3.org/ns/credentials/v2",\n            "https://www.w3.org/ns/credentials/examples/v2"\n        ],\n        "type": [\n            "VerifiableCredential",\n            "did:mdip:test:z3v8AuaeAPf9JMuyYZ1D79D626uUzDQmRPwq4d8oB1Th6ztzAS7"\n        ],\n        "issuer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n        "validFrom": "2024-03-22T15:06:24.773Z",\n        "validUntil": null,\n        "credentialSubject": {\n            "id": "did:mdip:test:z3v8AuairhLoGZqf6UDKw7zXyBknTvanvSzFHnLpwy8nwa7WLzk"\n        },\n        "credential": {\n            "account": "https://twitter.com/bob",\n            "service": "twitter.com"\n        },\n        "signature": {\n            "signer": "did:mdip:test:z3v8AuabRm9DaiakqbwFPgsLd6vSYBQtdj7poQFGYBgsZCfqTvY",\n            "signed": "2024-03-22T18:00:19.405Z",\n            "hash": "62f7cb1a31d338d29287f9ce91b4da103391dca88b853ea1b05920c6049ae8ff",\n            "value": "37941a42492a431ceaff91c86de55eb0cd3ed98107a3ce19a76d88511b7fe2bc6fcf298c69e431b048ab0786e9624b647e4d03a4c26031c4c6e2b6882223defe"\n        }\n    }\n]\n'})}),"\n",(0,a.jsx)(n.h2,{id:"working-with-aliased-names",children:"Working with Aliased Names"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-an-alias-name",children:"What is an alias name?"}),"\n",(0,a.jsx)(n.p,{children:'Throughout this document, we used "aliased names" to facilitate interactions with the kc command. Aliased names are stored in the private user wallet and are not communicated or available to other network peers. Names can be created for any type of DID (agent or asset) and so can represent other users or various VCs, schemas, etc.'}),"\n",(0,a.jsx)(n.h3,{id:"adding-a-name",children:"Adding a name"}),"\n",(0,a.jsx)(n.p,{children:"Adding a name will append a new alias to the current user's local wallet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:'$ kc add-name david "did:mdip:z3v8AuabNBnymLADSwWpDJPdEhvt2kS5v7UXypjzPnkqfdnW6ri"\nOK\n'})}),"\n",(0,a.jsx)(n.h3,{id:"listing-names",children:"Listing names"}),"\n",(0,a.jsx)(n.p,{children:"Listing names will reveal the list of aliases stored in the current user's local wallet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc list-names\n{\n    "vc-social-media": "did:mdip:z3v8AuahM2jN3QRaQ5ZWTmzje9HoNdikuAyNjsGfunGfLCGj87J",\n    "charlie-homepage": "did:mdip:z3v8AuaamvoV6JnvnhJk3E1npohd3jxThPSXFAzZZ4WwzMrirbq",\n    "charlie-parent": "did:mdip:z3v8Auabi92Gj2gFdrf6JCubbz4RL4auHAD5eZvz8zkAzkeaeHw",\n    "req-charlie-homepage": "did:mdip:z3v8AuaWxFtpy6Sp5cpHCBQMrsxdMZVdrYTyXMk62p7n5hs4Tb4",\n    "david": "did:mdip:z3v8AuabNBnymLADSwWpDJPdEhvt2kS5v7UXypjzPnkqfdnW6ri"\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"removing-a-name",children:"Removing a name"}),"\n",(0,a.jsx)(n.p,{children:"Removing a name will delete an alias from the current user's local wallet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc remove-name david\nOK\n"})}),"\n",(0,a.jsx)(n.h2,{id:"working-with-encryption",children:"Working with encryption"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-encryption",children:"What is encryption?"}),"\n",(0,a.jsx)(n.p,{children:"Encryption is a way to scramble data so that only authorized parties can unscramble it. All data communicated between peers is encrypted such that only the specific agents DIDs involved in the MDIP operation can unscramble it. Each agent DID has its own unique encryption key-pairs derived from the wallet's HD keys."}),"\n",(0,a.jsx)(n.h3,{id:"encrypting-a-file",children:"Encrypting a file"}),"\n",(0,a.jsx)(n.p,{children:"The MDIP CLI can be used to encrypt a file so that it only can be decrypted by the user controlling a specific agent DID keys:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ echo 'this is a secret message' > tmp/secret.txt\n$ kc encrypt-file tmp/secret.txt david\ndid:mdip:z3v8AuadZVYKXq9oyoWmCgqGREsvMxCKDWxwLHNw3tHpfDyrNr3\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The DID returned by the ",(0,a.jsx)(n.code,{children:"encrypt-file"}),' function can only be decrypted by the user controlling "david"\'s agent DID keys:']}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc resolve-did did:mdip:z3v8AuadZVYKXq9oyoWmCgqGREsvMxCKDWxwLHNw3tHpfDyrNr3\n{\n    "@context": "https://w3id.org/did-resolution/v1",\n    "didDocument": {\n        "@context": [\n            "https://www.w3.org/ns/did/v1"\n        ],\n        "id": "did:mdip:z3v8AuacNPvBNSN8o1LgJxSD9jZVQBkre8BfHdrPgSugb7zuhqs",\n        "controller": "did:mdip:z3v8AuagsGQwffFd2oVhkdcTWRBi2ps5FdRAJD4jzEVMszkYBCj"\n    },\n    "didDocumentMetadata": {\n        "created": "2024-03-14T19:39:55.374Z",\n        "mdip": {\n            "registry": "hyperswarm",\n            "type": "asset",\n            "version": 1\n        },\n        "data": {\n            "cipher_hash": "b618bf73a5a421ff1ab89cb0a6dd76d296915f8b17f8f899bdbc42ee68906cd6",\n            "cipher_receiver": "UsCHFkoWeKbmnPC6rL5K55O2zewCehy9WHGFOuxE_nYZrIpxwn4biSbkqhMO_7iFRWFM7Kv_R78SQOO_GROpF_0ttlQYOg",\n            "cipher_sender": "fIhBsmICMqN-2nW2FQ2fk-2-DrvQ0EfPyGRa6YUoEywDJdzEtyAW4PBiYnwrgomA0oC5Ox5SeTtCon0ps7baqvHDFDr3aw",\n            "created": "2024-03-14T19:39:55.374Z",\n            "sender": "did:mdip:z3v8AuagsGQwffFd2oVhkdcTWRBi2ps5FdRAJD4jzEVMszkYBCj"\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"encrypting-a-message",children:"Encrypting a message"}),"\n",(0,a.jsx)(n.p,{children:"The MDIP CLI can be used to encrypt a message that can only be decrypted by the targeted DID:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc encrypt-msg 'this is another secret message' david\ndid:mdip:z3v8AuacNPvBNSN8o1LgJxSD9jZVQBkre8BfHdrPgSugb7zuhqs\n"})}),"\n",(0,a.jsx)(n.h3,{id:"decrypting-a-message-or-a-file",children:"Decrypting a message or a file"}),"\n",(0,a.jsx)(n.p,{children:"Recipients of MDIP encrypted messages or files can use the command below to decrypt the received content:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"$ kc decrypt-did did:mdip:z3v8AuacNPvBNSN8o1LgJxSD9jZVQBkre8BfHdrPgSugb7zuhqs\nthis is another secret message\n"})}),"\n",(0,a.jsx)(n.h3,{id:"decrypting-json-from-a-vc",children:"Decrypting JSON from a VC"}),"\n",(0,a.jsx)(n.p,{children:"Some MDIP documents such as VCs are encrypted JSON. This command  combines decrypting with parsing as JSON:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc decrypt-json charlie-homepage\n{\n    "@context": [\n        "https://www.w3.org/ns/credentials/v2",\n        "https://www.w3.org/ns/credentials/examples/v2"\n    ],\n    "type": [\n        "VerifiableCredential",\n        "did:mdip:z3v8AuahM2jN3QRaQ5ZWTmzje9HoNdikuAyNjsGfunGfLCGj87J"\n    ],\n    "issuer": "did:mdip:z3v8AuagsGQwffFd2oVhkdcTWRBi2ps5FdRAJD4jzEVMszkYBCj",\n    "validFrom": "2024-03-13T20:18:13.290Z",\n    "validUntil": null,\n    "credentialSubject": {\n        "id": "did:mdip:z3v8AuagsGQwffFd2oVhkdcTWRBi2ps5FdRAJD4jzEVMszkYBCj"\n    },\n    "credential": {\n        "account": "https://charliehebdo.fr/",\n        "service": "homepage"\n    },\n    "signature": {\n        "signer": "did:mdip:z3v8AuagsGQwffFd2oVhkdcTWRBi2ps5FdRAJD4jzEVMszkYBCj",\n        "signed": "2024-03-13T21:01:15.922Z",\n        "hash": "da5837c59a2a30a0235668ba8d472dcfc10221a0f01d1d2c9e265ff13436e036",\n        "value": "861af32e15e961853b1e84543635249a5f89f22f9360293c05be3a84b53724a934d4e5fc7c6901f503e3df72cb653efa76e8f565dca5c07c7fc9437c95d4355f"\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:'Only the MDIP agent DID user with the necessary wallet key-pairs can decrypt the VC "charlie-homepage". Anyone else on the network only sees encrypted content:'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'$ kc resolve-did did:mdip:z3v8AuaamvoV6JnvnhJk3E1npohd3jxThPSXFAzZZ4WwzMrirbq\n{\n    "@context": "https://w3id.org/did-resolution/v1",\n    "didDocument": {\n        "@context": [\n            "https://www.w3.org/ns/did/v1"\n        ],\n        "id": "did:mdip:z3v8AuaamvoV6JnvnhJk3E1npohd3jxThPSXFAzZZ4WwzMrirbq",\n        "controller": "did:mdip:z3v8AuagsGQwffFd2oVhkdcTWRBi2ps5FdRAJD4jzEVMszkYBCj"\n    },\n    "didDocumentMetadata": {\n        "created": "2024-03-13T21:01:16.102Z",\n        "mdip": {\n            "registry": "hyperswarm",\n            "type": "asset",\n            "version": 1\n        },\n        "data": {\n            "cipher_hash": "cb98be9a0f06160ccdff4d35bf00971944b5a27db3e6974b0301cd26018588c1",\n            "cipher_receiver": "AG_uM(...)UyV8",\n            "cipher_sender": "wcV2W(...)enfc",\n            "created": "2024-03-13T21:01:16.100Z",\n            "sender": "did:mdip:z3v8AuagsGQwffFd2oVhkdcTWRBi2ps5FdRAJD4jzEVMszkYBCj"\n        }\n    }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},1935:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/workflow-4dc3dd48c4bd679aa0d7a577cc8f9eb1.png"},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>r});var a=i(6540);const t={},d=a.createContext(t);function s(e){const n=a.useContext(d);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),a.createElement(d.Provider,{value:n},e.children)}}}]);