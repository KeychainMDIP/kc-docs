"use strict";(self.webpackChunkkc_docs=self.webpackChunkkc_docs||[]).push([[824],{1081:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>a});var l=o(4848),s=o(8453);const t={title:"Voting"},i=void 0,r={id:"CLI-user-manual/voting",title:"Voting",description:'The MDIP protocol allows for near-endless forms of communication. This page covers the "group" and "poll" set of commands provided by the kc CLI tool, which demonstrate how MDIP can be used to perform secure voting.',source:"@site/kc/doc/CLI-user-manual/10-voting.md",sourceDirName:"CLI-user-manual",slug:"/CLI-user-manual/voting",permalink:"/docs/CLI-user-manual/voting",draft:!1,unlisted:!1,editUrl:"https://github.com/keychainmdip/kc-docs/tree/main/packages/create-docusaurus/templates/shared/kc/doc/CLI-user-manual/10-voting.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{title:"Voting"},sidebar:"tutorialSidebar",previous:{title:"Encryption",permalink:"/docs/CLI-user-manual/encryption"},next:{title:"MDIP DID Scheme",permalink:"/docs/DID-scheme/"}},c={},a=[{value:"Voting Groups",id:"voting-groups",level:2},{value:"Polls",id:"polls",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:['The MDIP protocol allows for near-endless forms of communication. This page covers the "group" and "poll" set of commands provided by the ',(0,l.jsx)(n.code,{children:"kc"})," CLI tool, which demonstrate how MDIP can be used to perform secure voting."]}),"\n",(0,l.jsx)(n.p,{children:"In the examples below, we'll create a poll to decide the best flavor of ice cream."}),"\n",(0,l.jsx)(n.h2,{id:"voting-groups",children:"Voting Groups"}),"\n",(0,l.jsx)(n.p,{children:"Groups are simply collections of identity DIDs that are allowed to cast votes in a poll."}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Create a new group:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kc group-create icecream-tasters\ndid:mdip:klf75KJH6LKlh654LP4C7hexSVfDhFcSiZr8xfS1tg\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Add members to the polling group using their DID:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kc group-add icecream-tasters did:mdip:z3v8AuzzXKfwrt4Y3AAbDaGqLNgyn1BDhP7wUFpEMEngmwYwjm8\n{\n  members: [\n    'did:mdip:z3v8AuzzXKfwrt4Y3AAbDaGqLNgyn1BDhP7wUFpEMEngmwYwjm8'\n  ],\n  name: 'icecream-tasters'\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Members can also be added using their ",(0,l.jsx)(n.a,{href:"/docs/CLI-user-manual/aliased-names",children:"aliased names"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kc group-add icecream-tasters alice\n{\n  members: [\n    'did:mdip:z3v8AuzzXKfwrt4Y3AAbDaGqLNgyn1BDhP7wUFpEMEngmwYwjm8',\n    'did:mdip:z3v8AuaZ6U4FwcfLA82aGf6n8qpwRtkKCStRMokvU4gSwHHHrzC'\n  ],\n  name: 'icecream-tasters'\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["If a member should be removed from a group, use ",(0,l.jsx)(n.code,{children:"kc group-remove"})," with their DID or aliased name."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"You can check to see if a DID is part of the group:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kc group-test icecream-tasters bob\nfalse\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"polls",children:"Polls"}),"\n",(0,l.jsx)(n.p,{children:"Polls are DID objects that follow a provided template to provide options, and collect and summarize votes."}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Create a JSON file to define the poll using the ",(0,l.jsx)(n.code,{children:"poll-template"})," command:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kc poll-template > icecream-poll.json\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Edit the poll file:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",metastring:'title="icecream-poll.json"',children:'{\n    "type": "poll",\n    "version": 1,\n    "description": "Which flavor of ice cream is the best?",\n    "roster": "did:mdip:klf75KJH6LKlh654LP4C7hexSVfDhFcSiZr8xfS1tg",\n    "options": [\n        "Chocolate",\n        "Vanilla",\n        "Strawberry",\n        "Rocky Road",\n        "Mint Chocolate Chip",\n        "other"\n    ],\n    "deadline": "2024-04-23T18:26:58.675Z"\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["In the example above, the value of ",(0,l.jsx)(n.code,{children:"roster"})," matches the DID of the group we created previously."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Using that file, create the poll:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kc poll-create icream-poll.json best-icecream-flavor\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Anyone can now view the poll using the DID or an aliased name (if they create one locally):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'kc poll-view best-icecream-flavor\n{\n    "description": "Which flavor of ice cream is the best?",\n    "options": [\n        "Chocolate",\n        "Vanilla",\n        "Strawberry",\n        "Rocky Road",\n        "Mint Chocolate Chip",\n        "other"\n    ],\n    "deadline": "2024-04-23T18:26:58.675Z",\n    "isOwner": true,\n    "isEligible": true,\n    "voteExpired": false,\n    "hasVoted": false,\n    "results": {\n        "tally": [\n            {\n                "vote": 0,\n                "option": "spoil",\n                "count": 0\n            },\n            {\n                "vote": 1,\n                "option": "Chocolate",\n                "count": 0\n            },\n            {\n                "vote": 2,\n                "option": "Vanilla",\n                "count": 0\n            },\n            {\n                "vote": 3,\n                "option": "Strawberry",\n                "count": 0\n            },\n            {\n                "vote": 4,\n                "option": "Rocky Road",\n                "count": 0\n            },\n            {\n                "vote": 5,\n                "option": "Mint Chocolate Chip",\n                "count": 0\n            },\n            {\n                "vote": 6,\n                "option": "other",\n                "count": 0\n            }\n        ],\n        "ballots": [],\n        "votes": {\n            "eligible": 2,\n            "received": 0,\n            "pending": 2\n        },\n        "final": false\n    }\n}\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Members of the group can cast their vote using ",(0,l.jsx)(n.code,{children:"poll-vote"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kc poll-vote best-icecream-flavor 5\ndid:mdip:z3v8AuaYFc3SZXkXyYxBxdGb1EuC5hV2BcjfMhemYMg56ztyAJx\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Once vote DIDs are collected, the poll controller can add them to the poll results with ",(0,l.jsx)(n.code,{children:"poll-update"}),", using only the vote's (not the voter's) DID:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kc poll-update did:mdip:z3v8AuaYFc3SZXkXyYxBxdGb1EuC5hV2BcjfMhemYMg56ztyAJx\nOK\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["The controller of the poll can publish the results with ",(0,l.jsx)(n.code,{children:"poll-publish"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kc poll-publish best-icecream-flavor\nOK\n"})}),"\n",(0,l.jsxs)(n.p,{children:["This will publish the results without revealing the ballots. Anyone can ",(0,l.jsx)(n.a,{href:"/docs/CLI-user-manual/dids#resolving-a-did",children:"resolve"})," the poll's DID to view the results."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["To make the votes in a poll public use ",(0,l.jsx)(n.code,{children:"poll-reveal"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kc poll-reveal best-icecream-flavor\nOK\n"})}),"\n",(0,l.jsx)(n.p,{children:"Now when anyone resolves the DID of the poll, each ballot will be included."}),"\n",(0,l.jsx)(n.admonition,{type:"warning",children:(0,l.jsx)(n.p,{children:"Once the ballot DIDs are public, the DID which cast that vote is also revealed to the public."})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>r});var l=o(6540);const s={},t=l.createContext(s);function i(e){const n=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);